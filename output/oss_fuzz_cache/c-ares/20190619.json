{
  "commit": "3049c50d48a8e712889104db25113c2b0be00301",
  "files": {
    "Dockerfile": "# Copyright 2016 Google Inc.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#      http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n#\n################################################################################\n\nFROM gcr.io/oss-fuzz-base/base-builder\nMAINTAINER mmoroz@chromium.org\nRUN apt-get update && apt-get install -y make autoconf automake libtool\nRUN git clone --depth 1 https://github.com/c-ares/c-ares.git\nWORKDIR c-ares\nCOPY build.sh $SRC/\n",
    "build.sh": "#!/bin/bash -eu\n# Copyright 2016 Google Inc.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#      http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n#\n################################################################################\n\n# Remove -DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION from CFLAGS\n# as a workaround for https://github.com/google/oss-fuzz/issues/413.\n# It's unclear why the c-ares configure is that picky;\n# a better fix would probably be in the c-ares build system.\nCFLAGS=$(for f in $CFLAGS; do [ $f != \"-DFUZZING_BUILD_MODE_UNSAFE_FOR_PRODUCTION\" ] && echo $f; done);\n\n# Build the project.\n./buildconf\n./configure --enable-debug\nmake clean\nmake -j$(nproc) V=1 all\n\n# Build the fuzzers.\n$CC $CFLAGS -I. -c $SRC/c-ares/test/ares-test-fuzz.c -o $WORK/ares-test-fuzz.o\n$CXX $CXXFLAGS -std=c++11 $WORK/ares-test-fuzz.o \\\n    -o $OUT/ares_parse_reply_fuzzer \\\n    $LIB_FUZZING_ENGINE $SRC/c-ares/.libs/libcares.a\n\n$CC $CFLAGS -I. -c $SRC/c-ares/test/ares-test-fuzz-name.c \\\n    -o $WORK/ares-test-fuzz-name.o\n$CXX $CXXFLAGS -std=c++11 $WORK/ares-test-fuzz-name.o \\\n    -o $OUT/ares_create_query_fuzzer \\\n    $LIB_FUZZING_ENGINE $SRC/c-ares/.libs/libcares.a\n\n# Archive and copy to $OUT seed corpus if the build succeeded.\nzip -j $OUT/ares_parse_reply_fuzzer_seed_corpus.zip $SRC/c-ares/test/fuzzinput/*\nzip -j $OUT/ares_create_query_fuzzer_seed_corpus.zip \\\n    $SRC/c-ares/test/fuzznames/*\n",
    "project.yaml": "homepage: \"https://c-ares.haxx.se/\"\nprimary_contact: \"drysdale@google.com\"\nsanitizers:\n  - address\n  - memory\n  - undefined\n"
  },
  "date": "2019-06-19T22:04:25",
  "cached_at": "2025-10-24T15:51:54.977776"
}