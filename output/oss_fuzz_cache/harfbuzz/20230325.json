{
  "commit": "9850414e6e44f52ae6449a2e542dcefad0619c92",
  "files": {
    "Dockerfile": "# Copyright 2016 Google Inc.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#      http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n#\n################################################################################\n\nFROM gcr.io/oss-fuzz-base/base-builder\nRUN apt-get update && apt-get install -y python3-pip ragel pkg-config && \\\n    pip3 install meson==0.56.0 ninja\nRUN git clone --depth 1 https://github.com/harfbuzz/harfbuzz.git\nWORKDIR harfbuzz\nCOPY build.sh $SRC/\n",
    "build.sh": "#!/bin/bash -eu\n# Copyright 2016 Google Inc.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#      http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n#\n################################################################################\n\n# Disable:\n# 1. UBSan vptr since target built with -fno-rtti.\nexport CFLAGS=\"$CFLAGS -fno-sanitize=vptr -DHB_NO_VISIBILITY\"\nexport CXXFLAGS=\"$CXXFLAGS -fno-sanitize=vptr -DHB_NO_VISIBILITY\"\n\n# setup\nbuild=$WORK/build\n\n# cleanup\nrm -rf $build\nmkdir -p $build\n\n# Build the library.\nmeson --default-library=static --wrap-mode=nodownload \\\n      -Dexperimental_api=true \\\n      -Dfuzzer_ldflags=\"$(echo $LIB_FUZZING_ENGINE)\" \\\n      $build \\\n  || (cat build/meson-logs/meson-log.txt && false)\n\n# Build the fuzzers.\nninja -v -j$(nproc) -C $build test/fuzzing/hb-{shape,draw,repacker,subset,set}-fuzzer\nmv $build/test/fuzzing/hb-{shape,draw,repacker,subset,set}-fuzzer $OUT/\n\n# Archive and copy to $OUT seed corpus if the build succeeded.\nmkdir all-fonts\nfor d in \\\n\ttest/shape/data/in-house/fonts \\\n\ttest/shape/data/aots/fonts \\\n\ttest/shape/data/text-rendering-tests/fonts \\\n\ttest/api/fonts \\\n\ttest/fuzzing/fonts \\\n\tperf/fonts \\\n\t; do\n\tcp $d/* all-fonts/\ndone\n\nzip $OUT/hb-shape-fuzzer_seed_corpus.zip all-fonts/*\ncp $OUT/hb-shape-fuzzer_seed_corpus.zip $OUT/hb-draw-fuzzer_seed_corpus.zip\ncp $OUT/hb-shape-fuzzer_seed_corpus.zip $OUT/hb-subset-fuzzer_seed_corpus.zip\nzip $OUT/hb-set-fuzzer_seed_corpus.zip ./test/fuzzing/sets/*\nzip $OUT/hb-repacker-fuzzer_seed_corpus.zip ./test/fuzzing/graphs/*\n\n",
    "hb-draw-fuzzer.options": "[libfuzzer]\ntimeout = 5\n",
    "hb-repacker-fuzzer.options": "[libfuzzer]\ntimeout = 5\n",
    "hb-set-fuzzer.options": "[libfuzzer]\ntimeout = 5\n",
    "hb-shape-fuzzer.options": "[libfuzzer]\ntimeout = 5\n",
    "hb-subset-fuzzer.options": "[libfuzzer]\ntimeout = 5\n",
    "project.yaml": "homepage: \"https://github.com/harfbuzz/harfbuzz\"\nlanguage: c++\nprimary_contact: \"harfbuzz-admin@googlegroups.com\"\nauto_ccs:\n  - \"behdad.esfahbod@gmail.com\"\n  - \"ebrahim@gnu.org\"\n  - \"ebraminio@gmail.com\"\n  - \"grieger@google.com\"\n  - \"rsheeter@google.com\"\n  - \"dr.khaled.hosny@gmail.com\"\n  - \"jfkthame@gmail.com\"\n  - \"cchapman@adobe.com\"\n  - \"qxliu@google.com\"\n  - \"ckitagawa@google.com\"\n  - \"drott@chromium.org\"\n  - \"fwang@igalia.com\"\nvendor_ccs:\n  - \"jmuizelaar@mozilla.com\"\n  - \"lsalzman@mozilla.com\"\n  - \"twsmith@mozilla.com\"\nfuzzing_engines:\n  - libfuzzer\n  - afl\n  - honggfuzz\nsanitizers:\n  - address\n  - undefined\n  - memory\narchitectures:\n  - x86_64\n  - i386\nmain_repo: 'https://github.com/harfbuzz/harfbuzz.git'\n"
  },
  "date": "2023-03-25T10:11:46",
  "cached_at": "2025-10-24T20:28:12.090356"
}