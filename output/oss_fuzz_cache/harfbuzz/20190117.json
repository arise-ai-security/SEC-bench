{
  "commit": "fd776a2f3ff17bc6191fd263e9648b939861bfbc",
  "files": {
    "Dockerfile": "# Copyright 2016 Google Inc.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#      http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n#\n################################################################################\n\nFROM gcr.io/oss-fuzz-base/base-builder\nMAINTAINER mmoroz@chromium.org\nRUN apt-get update && apt-get install -y make autoconf automake libtool ragel pkg-config\n\nRUN git clone --depth 1 https://github.com/harfbuzz/harfbuzz.git\nWORKDIR harfbuzz\nCOPY build.sh $SRC/\n",
    "build.sh": "#!/bin/bash -eu\n# Copyright 2016 Google Inc.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#      http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n#\n################################################################################\n\n# Disable:\n# 1. UBSan vptr since target built with -fno-rtti.\nexport CFLAGS=\"$CFLAGS -fno-sanitize=vptr\"\nexport CXXFLAGS=\"$CXXFLAGS -fno-sanitize=vptr\"\n\n# Build the library.\n./autogen.sh\n./configure --enable-static --disable-shared\nmake clean\nmake -j$(nproc) CPPFLAGS=\"-DHB_NO_VISIBILITY\" V=1 all\n\n# Build the fuzzer.\n$CXX $CXXFLAGS -std=c++11 -Isrc \\\n    ./test/fuzzing/hb-shape-fuzzer.cc -o $OUT/hb-shape-fuzzer \\\n    -lFuzzingEngine ./src/.libs/libharfbuzz.a\n\n$CXX $CXXFLAGS -std=c++11 -Isrc \\\n    ./test/fuzzing/hb-subset-fuzzer.cc -o $OUT/hb-subset-fuzzer \\\n    -lFuzzingEngine ./src/.libs/libharfbuzz-subset.a ./src/.libs/libharfbuzz.a\n\n# Archive and copy to $OUT seed corpus if the build succeeded.\nmkdir all-fonts\nfor d in \\\n\ttest/shaping/data/in-house/fonts \\\n\ttest/shaping/data/aots/fonts \\\n\ttest/shaping/data/text-rendering-tests/fonts \\\n\ttest/api/fonts \\\n\ttest/fuzzing/fonts \\\n\t; do\n\tcp $d/* all-fonts/\ndone\nzip $OUT/hb-shape-fuzzer_seed_corpus.zip all-fonts/*\ncp $OUT/hb-shape-fuzzer_seed_corpus.zip $OUT/hb-subset-fuzzer_seed_corpus.zip\n",
    "hb-shape-fuzzer.options": "[libfuzzer]\ntimeout = 5\n",
    "hb-subset-fuzzer.options": "[libfuzzer]\ntimeout = 5\n",
    "project.yaml": "homepage: \"https://github.com/harfbuzz/harfbuzz\"\nprimary_contact: \"harfbuzz-admin@googlegroups.com\"\nauto_ccs:\n  - \"behdad.esfahbod@gmail.com\"\n  - \"behdad@google.com\"\n  - \"ebrahim@gnu.org\"\n  - \"ebraminio@gmail.com\"\n  - \"grieger@google.com\"\n  - \"rsheeter@google.com\"\n  - \"dr.khaled.hosny@gmail.com\"\n  - \"jfkthame@gmail.com\"\n  - \"cchapman@adobe.com\"\n  - \"ariza@typekit.com\"\nsanitizers:\n - address\n - undefined\n - memory\n"
  },
  "date": "2019-01-17T14:08:02",
  "cached_at": "2025-10-24T14:30:39.253637"
}