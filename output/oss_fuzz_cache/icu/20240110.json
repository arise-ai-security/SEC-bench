{
  "commit": "da06e1d4905fa1f4a4d7e8d061149824f691eaaf",
  "files": {
    "Dockerfile": "# Copyright 2016 Google Inc.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#      http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n#\n################################################################################\n\nFROM gcr.io/oss-fuzz-base/base-builder\nRUN apt-get update && apt-get install -y make\n\nRUN git clone --depth 1 https://github.com/unicode-org/icu.git icu\nCOPY build.sh $SRC/\n",
    "build.sh": "#!/bin/bash -eux\n#\n# Copyright 2016 Google Inc.\n#\n# Licensed under the Apache License, Version 2.0 (the \"License\");\n# you may not use this file except in compliance with the License.\n# You may obtain a copy of the License at\n#\n#      http://www.apache.org/licenses/LICENSE-2.0\n#\n# Unless required by applicable law or agreed to in writing, software\n# distributed under the License is distributed on an \"AS IS\" BASIS,\n# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n# See the License for the specific language governing permissions and\n# limitations under the License.\n#\n################################################################################\n\n# need \"-p\" as otherwise centipede fails\nmkdir -p $WORK/icu\ncd $WORK/icu\n\n# TODO: icu build failes without -DU_USE_STRTOD_L=0\nDEFINES=\"-DU_CHARSET_IS_UTF8=1 -DU_USING_ICU_NAMESPACE=0 -DU_ENABLE_DYLOAD=0 -DU_USE_STRTOD_L=0\"\nCFLAGS=\"$CFLAGS $DEFINES\"\nCXXFLAGS=\"$CXXFLAGS $DEFINES\"\n\nCFLAGS=$CFLAGS CXXFLAGS=$CXXFLAGS CC=$CC CXX=$CXX \\\n  /bin/bash $SRC/icu/icu4c/source/runConfigureICU Linux \\\n   --with-library-bits=64 --with-data-packaging=static --enable-static --disable-shared\n\nexport ASAN_OPTIONS=\"detect_leaks=0\"\nexport UBSAN_OPTIONS=\"detect_leaks=0\"\n\nmake -j$(nproc)\n\n# Pick up additional flags (-std=...) added by runConfigureICU.\nCXXFLAGS=\"$CXXFLAGS $(config/icu-config --noverify --cxxflags)\"\n\n$CXX $CXXFLAGS -c $SRC/icu/icu4c/source/test/fuzzer/locale_util.cpp \\\n     -I$SRC/icu/icu4c/source/common \\\n     -I$SRC/icu4c/source/test/fuzzer\n\nFUZZER_PATH=$SRC/icu/icu4c/source/test/fuzzer\n# Assumes that all fuzzers files end with'_fuzzer.cpp'.\nFUZZERS=$FUZZER_PATH/*_fuzzer.cpp\n\nfor fuzzer in $FUZZERS; do\n  file=${fuzzer:${#FUZZER_PATH}+1}\n  $CXX $CXXFLAGS \\\n    $fuzzer -o $OUT/${file/.cpp/} locale_util.o \\\n    -I$SRC/icu/icu4c/source/common -I$SRC/icu/icu4c/source/i18n -L$WORK/icu/lib \\\n    $LIB_FUZZING_ENGINE -licui18n -licuuc -licutu -licudata\ndone\n\n# Assumes that all seed files end with '*_fuzzer_seed_corpus.txt'.\nCORPUS=$SRC/icu/icu4c/source/test/fuzzer/*_fuzzer_seed_corpus.txt\nfor corpus in $CORPUS; do\n    zipfile=${corpus:${#FUZZER_PATH}+1}\n    zip $OUT/${zipfile/.txt/.zip} $corpus\ndone\n\ncp $SRC/icu/icu4c/source/test/fuzzer/*.dict  $OUT/\n",
    "project.yaml": "homepage: \"https://icu.unicode.org\"\nlanguage: c++\nprimary_contact: \"ftang@google.com\"\nauto_ccs:\n - icu-security@unicode.org\n - andy.heninger@gmail.com\n - markus.icu@gmail.com\n - jefgen.msft@gmail.com\n - shane@unicode.org\n - srl295@gmail.com\n - ftang@google.com\n - roubert@google.com\n - elango@unicode.org\nsanitizers:\n - address\n - undefined \n# Disabled MSAN because of https://github.com/google/oss-fuzz/issues/6294\n#  - memory\n\nmain_repo: 'https://github.com/unicode-org/icu.git'\n"
  },
  "date": "2024-01-10T03:30:32",
  "cached_at": "2025-10-24T18:21:18.285684"
}